(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{3410:(e,i,t)=>{Promise.resolve().then(t.bind(t,8610))},8610:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>f});var s=t(5155),a=t(2115),r=t(63),l=t(8248),n=t(3209),c=t(7003),d=t(6170),o=t(7001),p=t(235),h=t(7507),m=t(4916),u=t(5626),x=t(6191),j=t(5229),v=t(6046),b=t(2619),y=t.n(b),g=t(9848),N=t(8171);function f(){let e=(0,r.useRouter)(),[i,t]=(0,a.useState)(!1),[b,f]=(0,a.useState)({title:"",description:"",department:"",location:"",type:"Full-time",requirements:[""],responsibilities:[""],applicationDeadline:"",isActive:!0}),C=(e,i)=>{f(t=>({...t,[e]:i}))},w=(e,i,t)=>{let s=[...b[e]];s[i]=t,f(i=>({...i,[e]:s}))},A=e=>{f(i=>({...i,[e]:[...i[e],""]}))},q=(e,i)=>{if(b[e].length>1){let t=b[e].filter((e,t)=>t!==i);f(i=>({...i,[e]:t}))}},D=async i=>{if(i.preventDefault(),!b.title.trim()||!b.description.trim()||!b.department.trim()||!b.location.trim())return void(0,N.oR)({title:"Error",description:"Please fill in all required fields",variant:"destructive"});t(!0);try{let i={title:b.title.trim(),description:b.description.trim(),department:b.department.trim(),location:b.location.trim(),type:b.type,requirements:b.requirements.filter(e=>""!==e.trim()),responsibilities:b.responsibilities.filter(e=>""!==e.trim()),applicationDeadline:b.applicationDeadline?new Date(b.applicationDeadline):void 0,isActive:b.isActive,postedDate:new Date};await g.Jk.create(i)?((0,N.oR)({title:"Success",description:"Vacancy posted successfully"}),e.push("/dashboard/vacancies")):(0,N.oR)({title:"Error",description:"Failed to post vacancy",variant:"destructive"})}catch(e){console.error("Create vacancy error:",e),(0,N.oR)({title:"Error",description:"An error occurred while posting the vacancy",variant:"destructive"})}finally{t(!1)}};return(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(y(),{href:"/dashboard/vacancies",children:(0,s.jsxs)(c.Button,{variant:"outline",size:"sm",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Back to Vacancies"]})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Post New Vacancy"})]}),(0,s.jsxs)(n.Zp,{className:"max-w-2xl",children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:"Job Details"})}),(0,s.jsx)(n.Wu,{children:(0,s.jsxs)("form",{onSubmit:D,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.J,{htmlFor:"title",children:"Job Title *"}),(0,s.jsx)(d.p,{id:"title",value:b.title,onChange:e=>C("title",e.target.value),placeholder:"Enter job title",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.J,{htmlFor:"description",children:"Job Description *"}),(0,s.jsx)(o.T,{id:"description",value:b.description,onChange:e=>C("description",e.target.value),placeholder:"Enter job description",rows:5,required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.J,{htmlFor:"department",children:"Department *"}),(0,s.jsx)(d.p,{id:"department",value:b.department,onChange:e=>C("department",e.target.value),placeholder:"Enter department",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.J,{htmlFor:"location",children:"Location *"}),(0,s.jsx)(d.p,{id:"location",value:b.location,onChange:e=>C("location",e.target.value),placeholder:"Enter job location",required:!0})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.J,{htmlFor:"type",children:"Employment Type"}),(0,s.jsxs)(h.l6,{value:b.type,onValueChange:e=>C("type",e),children:[(0,s.jsx)(h.bq,{children:(0,s.jsx)(h.yv,{})}),(0,s.jsxs)(h.gC,{children:[(0,s.jsx)(h.eb,{value:"Full-time",children:"Full-time"}),(0,s.jsx)(h.eb,{value:"Part-time",children:"Part-time"}),(0,s.jsx)(h.eb,{value:"Contract",children:"Contract"}),(0,s.jsx)(h.eb,{value:"Temporary",children:"Temporary"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.J,{htmlFor:"applicationDeadline",children:"Application Deadline"}),(0,s.jsx)(d.p,{id:"applicationDeadline",type:"date",value:b.applicationDeadline,onChange:e=>C("applicationDeadline",e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(p.J,{children:"Requirements"}),(0,s.jsxs)(c.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>A("requirements"),children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Add Requirement"]})]}),b.requirements.map((e,i)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.p,{value:e,onChange:e=>w("requirements",i,e.target.value),placeholder:"Enter job requirement"}),b.requirements.length>1&&(0,s.jsx)(c.Button,{type:"button",variant:"outline",size:"icon",onClick:()=>q("requirements",i),children:(0,s.jsx)(j.A,{className:"h-4 w-4"})})]},i))]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(p.J,{children:"Responsibilities"}),(0,s.jsxs)(c.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>A("responsibilities"),children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Add Responsibility"]})]}),b.responsibilities.map((e,i)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.p,{value:e,onChange:e=>w("responsibilities",i,e.target.value),placeholder:"Enter job responsibility"}),b.responsibilities.length>1&&(0,s.jsx)(c.Button,{type:"button",variant:"outline",size:"icon",onClick:()=>q("responsibilities",i),children:(0,s.jsx)(j.A,{className:"h-4 w-4"})})]},i))]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.S,{id:"isActive",checked:b.isActive,onCheckedChange:e=>C("isActive",!!e)}),(0,s.jsx)(p.J,{htmlFor:"isActive",children:"Post as active (visible to applicants)"})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,s.jsxs)(c.Button,{type:"submit",disabled:i,children:[i?(0,s.jsx)("div",{className:"animate-spin h-4 w-4 border border-white border-t-transparent rounded-full mr-2"}):(0,s.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Post Vacancy"]}),(0,s.jsx)(y(),{href:"/dashboard/vacancies",children:(0,s.jsx)(c.Button,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})]})})}}},e=>{e.O(0,[9135,1497,1710,7112,9353,8037,4919,7080,4117,8441,1255,7358],()=>e(e.s=3410)),_N_E=e.O()}]);